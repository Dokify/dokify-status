
(function(b){b.fn.findFirstImage=function(){return this.first().find("img").addBack().filter("img").first()};var a={defaults:{animation:"horizontal-push",animationSpeed:600,timer:true,showTimer:true,advanceSpeed:4000,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1000,directionalNav:true,directionalNavRightText:"Right",directionalNavLeftText:"Left",captions:true,captionAnimation:"fade",captionAnimationSpeed:600,resetTimerOnClick:false,bullets:false,bulletThumbs:false,bulletThumbLocation:"",bulletThumbsHideOnSmall:true,afterSlideChange:b.noop,afterLoadComplete:b.noop,fluid:true,centerBullets:true,singleCycle:false,slideNumber:false,stackOnSmall:false},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav hide-for-small"><span class="right"></span><span class="left"></span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',slideNumberHTML:'<span class="orbit-slide-counter"></span>',init:function(f,e){var c,g=0,d=this;this.clickTimer=b.proxy(this.clickTimer,this);this.addBullet=b.proxy(this.addBullet,this);this.resetAndUnlock=b.proxy(this.resetAndUnlock,this);this.stopClock=b.proxy(this.stopClock,this);this.startTimerAfterMouseLeave=b.proxy(this.startTimerAfterMouseLeave,this);this.clearClockMouseLeaveTimer=b.proxy(this.clearClockMouseLeaveTimer,this);this.rotateTimer=b.proxy(this.rotateTimer,this);this.options=b.extend({},this.defaults,e);if(this.options.timer==="false"){this.options.timer=false}if(this.options.showTimer==="false"){this.options.showTimer=false}if(this.options.captions==="false"){this.options.captions=false}if(this.options.directionalNav==="false"){this.options.directionalNav=false}this.$element=b(f);this.$wrapper=this.$element.wrap(this.wrapperHTML).parent();this.$slides=this.$element.children("img, a, div, figure, li");this.$element.on("movestart",function(h){if((h.distX>h.distY&&h.distX<-h.distY)||(h.distX<h.distY&&h.distX>-h.distY)){h.preventDefault()}});this.$element.bind("orbit.next",function(){d.shift("next")});this.$element.bind("orbit.prev",function(){d.shift("prev")});this.$element.bind("swipeleft",function(){b(this).trigger("orbit.next")});this.$element.bind("swiperight",function(){b(this).trigger("orbit.prev")});this.$element.bind("orbit.goto",function(i,h){d.shift(h)});this.$element.bind("orbit.start",function(i,h){d.startClock()});this.$element.bind("orbit.stop",function(i,h){d.stopClock()});c=this.$slides.filter("img");if(c.length===0){this.loaded()}else{c.bind("imageready",function(){g+=1;if(g===c.length){d.loaded()}})}},loaded:function(){this.$element.addClass("orbit").css({width:"1px",height:"1px"});if(this.options.stackOnSmall){this.$element.addClass("orbit-stack-on-small")}this.$slides.addClass("orbit-slide").css({opacity:0});this.setDimentionsFromLargestSlide();this.updateOptionsIfOnlyOneSlide();this.setupFirstSlide();this.notifySlideChange();if(this.options.showTimer){this.setupTimer()}if(this.options.timer){this.startClock()}if(this.options.captions){this.setupCaptions()}if(this.options.directionalNav){this.setupDirectionalNav()}if(this.options.bullets){this.setupBulletNav();this.setActiveBullet()}this.options.afterLoadComplete.call(this);Holder.run()},currentSlide:function(){return this.$slides.eq(this.activeSlide)},notifySlideChange:function(){if(this.options.slideNumber){var c=(this.activeSlide+1)+" of "+this.$slides.length;this.$element.trigger("orbit.change",{slideIndex:this.activeSlide,slideCount:this.$slides.length});if(this.$counter===undefined){var d=b(this.slideNumberHTML).html(c);this.$counter=d;this.$wrapper.append(this.$counter)}else{this.$counter.html(c)}}},setDimentionsFromLargestSlide:function(){var d=this,c;d.$element.add(d.$wrapper).width(this.$slides.first().outerWidth());d.$element.add(d.$wrapper).height(this.$slides.first().height());d.orbitWidth=this.$slides.first().outerWidth();d.orbitHeight=this.$slides.first().height();c=this.$slides.first().findFirstImage().clone();this.$slides.each(function(){var e=b(this),g=e.outerWidth(),f=e.height();if(g>d.$element.outerWidth()){d.$element.add(d.$wrapper).width(g);d.orbitWidth=d.$element.outerWidth()}if(f>d.$element.height()){d.$element.add(d.$wrapper).height(f);d.orbitHeight=d.$element.height();c=b(this).findFirstImage().clone()}d.numberSlides+=1});if(this.options.fluid){if(typeof this.options.fluid==="string"){c=b("<img>").attr("data-src","holder.js/"+this.options.fluid)}d.$element.prepend(c);c.addClass("fluid-placeholder");d.$element.add(d.$wrapper).css({width:"inherit"});d.$element.add(d.$wrapper).css({height:"inherit"});b(window).bind("resize",function(){d.orbitWidth=d.$element.outerWidth();d.orbitHeight=d.$element.height()})}},lock:function(){this.locked=true},unlock:function(){this.locked=false},updateOptionsIfOnlyOneSlide:function(){if(this.$slides.length===1){this.options.directionalNav=false;this.options.timer=false;this.options.bullets=false}},setupFirstSlide:function(){var c=this;this.$slides.first().css({"z-index":3,opacity:1}).fadeIn(function(){c.$slides.css({display:"block"})})},startClock:function(){var c=this;if(!this.options.timer){return false}if(!this.$timer||this.$timer.is(":hidden")){this.clock=setInterval(function(){c.$element.trigger("orbit.next")},this.options.advanceSpeed)}else{this.timerRunning=true;if(this.$pause){this.$pause.removeClass("active")}this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180,false)}},rotateTimer:function(d){var c="rotate("+this.degrees+"deg)";this.degrees+=2;this.$rotator.css({"-webkit-transform":c,"-moz-transform":c,"-o-transform":c,"-ms-transform":c});if(d){this.degrees=0;this.$rotator.removeClass("move");this.$mask.removeClass("move")}if(this.degrees>180){this.$rotator.addClass("move");this.$mask.addClass("move")}if(this.degrees>360){this.$rotator.removeClass("move");this.$mask.removeClass("move");this.degrees=0;this.$element.trigger("orbit.next")}},stopClock:function(){if(!this.options.timer){return false}else{this.timerRunning=false;clearInterval(this.clock);if(this.$pause){this.$pause.addClass("active")}}},setupTimer:function(){this.$timer=b(this.timerHTML);this.$wrapper.append(this.$timer);this.$rotator=this.$timer.find(".rotator");this.$mask=this.$timer.find(".mask");this.$pause=this.$timer.find(".pause");this.$timer.click(this.clickTimer);if(this.options.startClockOnMouseOut){this.$wrapper.mouseleave(this.startTimerAfterMouseLeave);this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)}if(this.options.pauseOnHover){this.$wrapper.mouseenter(this.stopClock).mouseleave(this.clickTimer)}},startTimerAfterMouseLeave:function(){var c=this;this.outTimer=setTimeout(function(){if(!c.timerRunning){c.startClock()}},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){if(!this.timerRunning){this.startClock()}else{this.stopClock()}},setupCaptions:function(){this.$caption=b(this.captionHTML);this.$wrapper.append(this.$caption);this.setCaption()},setCaption:function(){var d=this.currentSlide().attr("data-caption"),c;if(!this.options.captions){return false}if(d){if(b.trim(b(d).text()).length<1){return false}if(d.charAt(0)=="#"){d=d.substring(1,d.length)}c=b("#"+d).html();this.$caption.attr("id",d).html(c);switch(this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed);break}}else{switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed);break}}},setupDirectionalNav:function(){var c=this,d=b(this.directionalNavHTML);d.find(".right").html(this.options.directionalNavRightText);d.find(".left").html(this.options.directionalNavLeftText);this.$wrapper.append(d);this.$wrapper.find(".left").click(function(){c.stopClock();if(c.options.resetTimerOnClick){c.rotateTimer(true);c.startClock()}c.$element.trigger("orbit.prev")});this.$wrapper.find(".right").click(function(){c.stopClock();if(c.options.resetTimerOnClick){c.rotateTimer(true);c.startClock()}c.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=b(this.bulletHTML);this.$wrapper.append(this.$bullets);this.$slides.each(this.addBullet);this.$element.addClass("with-bullets");if(this.options.centerBullets){this.$bullets.css("margin-left",-this.$bullets.outerWidth()/2)}if(this.options.bulletThumbsHideOnSmall){this.$bullets.addClass("hide-for-small")}},addBullet:function(g,e){var d=g+1,h=b("<li>"+(d)+"</li>"),c,f=this;if(this.options.bulletThumbs){c=b(e).attr("data-thumb");if(c){h.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+c+") no-repeat"})}}this.$bullets.append(h);h.data("index",g);h.click(function(){f.stopClock();if(f.options.resetTimerOnClick){f.rotateTimer(true);f.startClock()}f.$element.trigger("orbit.goto",[h.data("index")])})},setActiveBullet:function(){if(!this.options.bullets){return false}else{this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active")}},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1});this.unlock();this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(d){var c=d;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==c){return false}if(this.$slides.length=="1"){return false}if(!this.locked){this.lock();if(d=="next"){this.activeSlide++;if(this.activeSlide==this.numberSlides){this.activeSlide=0}}else{if(d=="prev"){this.activeSlide--;if(this.activeSlide<0){this.activeSlide=this.numberSlides-1}}else{this.activeSlide=d;if(this.prevActiveSlide<this.activeSlide){c="next"}else{if(this.prevActiveSlide>this.activeSlide){c="prev"}}}}this.setActiveBullet();this.notifySlideChange();this.$slides.eq(this.prevActiveSlide).css({"z-index":2});if(this.options.animation=="fade"){this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({opacity:0},this.options.animationSpeed)}if(this.options.animation=="horizontal-slide"){if(c=="next"){this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)}if(c=="prev"){this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)}this.$slides.eq(this.prevActiveSlide).css("opacity",0)}if(this.options.animation=="vertical-slide"){if(c=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0)}if(c=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)}this.$slides.eq(this.prevActiveSlide).css("opacity",0)}if(this.options.animation=="horizontal-push"){if(c=="next"){this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed,"",function(){b(this).css({opacity:0})})}if(c=="prev"){this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed,"",function(){b(this).css({opacity:0})})}}if(this.options.animation=="vertical-push"){if(c=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:this.orbitHeight},this.options.animationSpeed,"")}if(c=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:-this.orbitHeight},this.options.animationSpeed)}}this.setCaption()}if(this.activeSlide===this.$slides.length-1&&this.options.singleCycle){this.stopClock()}}};b.fn.orbit=function(c){return this.each(function(){var d=b.extend({},a);d.init(this,c)})}})(jQuery);(function(c){var b={};c.event.special.imageready={setup:function(f,e,d){b=f||b},add:function(d){var e=c(this),f;if(this.nodeType===1&&this.tagName.toLowerCase()==="img"&&this.src!==""){if(b.forceLoad){f=e.attr("src");e.attr("src","");a(this,d.handler);e.attr("src",f)}else{if(this.complete||this.readyState===4){d.handler.apply(this,arguments)}else{a(this,d.handler)}}}},teardown:function(d){c(this).unbind(".imageready")}};function a(d,f){var e=c(d);e.bind("load.imageready",function(){f.apply(d,arguments);e.unbind("load.imageready")})}}(jQuery));var Holder=Holder||{};(function(b,g){var l=false,f=false,a=document.createElement("canvas");function e(w,I){var x="complete",J="readystatechange",H=!1,A=H,D=!0,z=w.document,F=z.documentElement,C=z.addEventListener?"addEventListener":"attachEvent",G=z.addEventListener?"removeEventListener":"detachEvent",B=z.addEventListener?"":"on",p=function(n){(n.type!=J||z.readyState==x)&&((n.type=="load"?w:z)[G](B+n.type,p,H),!A&&(A=!0)&&I.call(w,null))},q=function(){try{F.doScroll("left")}catch(o){setTimeout(q,50);return}p("poll")};if(z.readyState==x){I.call(w,"lazy")}else{if(z.createEventObject&&F.doScroll){try{D=!w.frameElement}catch(E){}D&&q()}z[C](B+"DOMContentLoaded",p,H),z[C](B+J,p,H),w[C](B+"load",p,H)}}function d(o){o=o.match(/^(\W)?(.*)/);var n=document["getElement"+(o[1]?o[1]=="#"?"ById":"sByClassName":"sByTagName")](o[2]);var p=[];n!=null&&(n.length?p=n:n.length==0?p=n:p=[n]);return p}function i(o,n){var r={};for(var q in o){r[q]=o[q]}for(var p in n){r[p]=n[p]}return r}function k(o,s,q){var p=[s.height,s.width].sort();var u=Math.round(p[1]/16),n=Math.round(p[0]/16);var r=Math.max(q.size,u);a.width=s.width;a.height=s.height;o.textAlign="center";o.textBaseline="middle";o.fillStyle=q.background;o.fillRect(0,0,s.width,s.height);o.fillStyle=q.foreground;o.font="bold "+r+"px sans-serif";var t=q.text?q.text:(s.width+"x"+s.height);if(Math.round(o.measureText(t).width)/s.width>1){r=Math.max(n,q.size)}o.font="bold "+r+"px sans-serif";o.fillText(t,(s.width/2),(s.height/2),s.width);return a.toDataURL("image/png")}if(!a.getContext){f=true}else{if(a.toDataURL("image/png").indexOf("data:image/png")<0){f=true}else{var m=a.getContext("2d")}}var c={domain:"holder.js",images:"img",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}}};b.flags={dimensions:{regex:/([0-9]+)x([0-9]+)/,output:function(o){var n=this.regex.exec(o);return{width:+n[1],height:+n[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(o){var n=this.regex.exec(o);return{size:c.themes.gray.size,foreground:"#"+n[2],background:"#"+n[1]}}},text:{regex:/text\:(.*)/,output:function(n){return this.regex.exec(n)[1]}}};for(var h in b.flags){b.flags[h].match=function(n){return n.match(this.regex)}}b.add_theme=function(n,o){n!=null&&o!=null&&(c.themes[n]=o);return b};b.add_image=function(s,q){var r=d(q);if(r.length){for(var p=0,n=r.length;p<n;p++){var o=document.createElement("img");o.setAttribute("data-src",s);r[p].appendChild(o)}}return b};b.run=function(s){var A=i(c,s),x=d(A.images),y=true;for(var u=x.length,w=0;w<u;w++){var v=c.themes.gray;var p=x[w].getAttribute("data-src")||x[w].getAttribute("src");if(p&&!!~p.indexOf(A.domain)){var r=false,n=null,z=null;var t=p.substr(p.indexOf(A.domain)+A.domain.length+1).split("/");for(sl=t.length,j=0;j<sl;j++){if(b.flags.dimensions.match(t[j])){r=true;n=b.flags.dimensions.output(t[j])}else{if(b.flags.colors.match(t[j])){v=b.flags.colors.output(t[j])}else{if(A.themes[t[j]]){v=A.themes[t[j]]}else{if(b.flags.text.match(t[j])){z=b.flags.text.output(t[j])}}}}}if(r){x[w].setAttribute("data-src",p);var q=n.width+"x"+n.height;x[w].setAttribute("alt",z?z:v.text?v.text+" ["+q+"]":q);x[w].style.backgroundColor=v.background;var v=(z?i(v,{text:z}):v);if(!f){x[w].setAttribute("src",k(m,n,v))}}}}return b};e(g,function(){l||b.run()})})(Holder,window);(function(b){var a=false;b(document).on("click","a[data-reveal-id]",function(d){d.preventDefault();var c=b(this).attr("data-reveal-id");b("#"+c).reveal(b(this).data())});b.fn.reveal=function(c){var e=b(document),d={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:true,dismissModalClass:"close-reveal-modal",open:b.noop,opened:b.noop,close:b.noop,closed:b.noop};c=b.extend({},d,c);return this.not(".reveal-modal.open").each(function(){var s=b(this),k=parseInt(s.css("top"),10),n=s.height()+k,m=false,i=b(".reveal-modal-bg"),l={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:k,opacity:1,visibility:"hidden",display:"none"}},h;if(i.length===0){i=b("<div />",{"class":"reveal-modal-bg"}).insertAfter(s);i.fadeTo("fast",0.97)}function o(){m=false}function t(){m=true}function q(){var u=b(".reveal-modal.open");if(u.length===1){a=true;u.trigger("reveal:close")}}function p(){if(!m){t();q();s.addClass("open");if(c.animation==="fadeAndPop"){l.open.top=e.scrollTop()-n;l.open.opacity=0;s.css(l.open);i.fadeIn(c.animationSpeed/2);s.delay(c.animationSpeed/2).animate({top:e.scrollTop()+k+"px",opacity:1},c.animationSpeed,function(){s.trigger("reveal:opened")})}if(c.animation==="fade"){l.open.top=e.scrollTop()+k;l.open.opacity=0;s.css(l.open);i.fadeIn(c.animationSpeed/2);s.delay(c.animationSpeed/2).animate({opacity:1},c.animationSpeed,function(){s.trigger("reveal:opened")})}if(c.animation==="none"){l.open.top=e.scrollTop()+k;l.open.opacity=1;s.css(l.open);i.css({display:"block"});s.trigger("reveal:opened")}}}function f(){var v=s.find(".flex-video"),u=v.find("iframe");if(u.length>0){u.attr("src",u.data("src"));v.fadeIn(100)}}s.bind("reveal:open.reveal",p);s.bind("reveal:open.reveal",f);function j(){if(!m){t();s.removeClass("open");if(c.animation==="fadeAndPop"){s.animate({top:e.scrollTop()-n+"px",opacity:0},c.animationSpeed/2,function(){s.css(l.close)});if(!a){i.delay(c.animationSpeed).fadeOut(c.animationSpeed,function(){s.trigger("reveal:closed")})}else{s.trigger("reveal:closed")}}if(c.animation==="fade"){s.animate({opacity:0},c.animationSpeed,function(){s.css(l.close)});if(!a){i.delay(c.animationSpeed).fadeOut(c.animationSpeed,function(){s.trigger("reveal:closed")})}else{s.trigger("reveal:closed")}}if(c.animation==="none"){s.css(l.close);if(!a){i.css({display:"none"})}s.trigger("reveal:closed")}a=false}}function r(){s.unbind(".reveal");i.unbind(".reveal");h.unbind(".reveal");b("body").unbind(".reveal")}function g(){var v=s.find(".flex-video"),u=v.find("iframe");if(u.length>0){u.data("src",u.attr("src"));u.attr("src","");v.fadeOut(100)}}s.bind("reveal:close.reveal",j);s.bind("reveal:closed.reveal",g);s.bind("reveal:opened.reveal reveal:closed.reveal",o);s.bind("reveal:closed.reveal",r);s.bind("reveal:open.reveal",c.open);s.bind("reveal:opened.reveal",c.opened);s.bind("reveal:close.reveal",c.close);s.bind("reveal:closed.reveal",c.closed);s.trigger("reveal:open");h=b("."+c.dismissModalClass).bind("click.reveal",function(){s.trigger("reveal:close")});if(c.closeOnBackgroundClick){i.css({cursor:"pointer"});i.bind("click.reveal",function(){s.trigger("reveal:close")})}b("body").bind("keyup.reveal",function(u){if(u.which===27){s.trigger("reveal:close")}})})}}(jQuery));/*! jQuery Address v${version} | (c) 2009, 2013 Rostislav Hristov | jquery.org/license */
(function(a){a.address=(function(){var d=function(aj){var ak=a.extend(a.Event(aj),(function(){var ao={},an=a.address.parameterNames();for(var am=0,al=an.length;am<al;am++){ao[an[am]]=a.address.parameter(an[am])}return{value:a.address.value(),path:a.address.path(),pathNames:a.address.pathNames(),parameterNames:an,parameters:ao,queryString:a.address.queryString()}}).call(a.address));a(a.address).trigger(ak);return ak},k=function(aj){return Array.prototype.slice.call(aj)},j=function(al,ak,aj){a().bind.apply(a(a.address),Array.prototype.slice.call(arguments));return a.address},I=function(ak,aj){a().unbind.apply(a(a.address),Array.prototype.slice.call(arguments));return a.address},O=function(){return(ac.pushState&&C.state!==H)},G=function(){return("/"+Y.pathname.replace(new RegExp(C.state),"")+Y.search+(U()?"#"+U():"")).replace(Q,"/")},U=function(){var aj=Y.href.indexOf("#");return aj!=-1?Y.href.substr(aj+1):""},y=function(){return O()?G():U()},b=function(){try{return top.document!==H&&top.document.title!==H?top:window}catch(aj){return window}},l=function(){return"javascript"},ah=function(aj){aj=aj.toString();return(C.strict&&aj.substr(0,1)!="/"?"/":"")+aj},T=function(aj,ak){return parseInt(aj.css(ak),10)},ab=function(){if(!s){var ak=y(),aj=decodeURI(W)!=decodeURI(ak);if(aj){if(h&&q<7){Y.reload()}else{if(h&&!P&&C.history){n(D,50)}W=ak;Z(ad)}}}},Z=function(aj){n(v,10);return d(F).isDefaultPrevented()||d(aj?g:ag).isDefaultPrevented()},v=function(){if(C.tracker!=="null"&&C.tracker!==E){var aj=a.isFunction(C.tracker)?C.tracker:R[C.tracker],ak=(Y.pathname+Y.search+(a.address&&!O()?a.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");if(a.isFunction(aj)){aj(ak)}else{if(a.isFunction(R.urchinTracker)){R.urchinTracker(ak)}else{if(R.pageTracker!==H&&a.isFunction(R.pageTracker._trackPageview)){R.pageTracker._trackPageview(ak)}else{if(R._gaq!==H&&a.isFunction(R._gaq.push)){R._gaq.push(["_trackPageview",decodeURI(ak)])}}}}}},D=function(){var aj=l()+":"+ad+";document.open();document.writeln('<html><head><title>"+af.title.replace(/\'/g,"\\'")+"</title><script>var "+x+' = "'+encodeURIComponent(y()).replace(/\'/g,"\\'")+(af.domain!=Y.hostname?'";document.domain="'+af.domain:"")+"\";<\/script></head></html>');document.close();";if(q<7){e.src=aj}else{e.contentWindow.location.replace(aj)}},ae=function(){if(i&&c!=-1){var aj,al,ak=i.substr(c+1).split("&");for(aj=0;aj<ak.length;aj++){al=ak[aj].split("=");if(/^(autoUpdate|history|strict|wrap)$/.test(al[0])){C[al[0]]=(isNaN(al[1])?/^(true|yes)$/i.test(al[1]):(parseInt(al[1],10)!==0))}if(/^(state|tracker)$/.test(al[0])){C[al[0]]=al[1]}}i=E}W=y()},S=function(){if(!X){X=B;ae();if(C.wrap){var ak=a("body"),al=a("body > *").wrapAll('<div style="padding:'+(T(ak,"marginTop")+T(ak,"paddingTop"))+"px "+(T(ak,"marginRight")+T(ak,"paddingRight"))+"px "+(T(ak,"marginBottom")+T(ak,"paddingBottom"))+"px "+(T(ak,"marginLeft")+T(ak,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+x+'" style="height:100%;overflow:auto;position:relative;'+(r&&!window.statusbar.visible?"resize:both;":"")+'" />');a("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});if(r){a('<style type="text/css" />').appendTo("head").text("#"+x+"::-webkit-resizer { background-color: #fff; }")}}if(h&&!P){var aj=af.getElementsByTagName("frameset")[0];e=af.createElement((aj?"":"i")+"frame");e.src=l()+":"+ad;if(aj){aj.insertAdjacentElement("beforeEnd",e);aj[aj.cols?"cols":"rows"]+=",0";e.noResize=B;e.frameBorder=e.frameSpacing=0}else{e.style.display="none";e.style.width=e.style.height=0;e.tabIndex=-1;af.body.insertAdjacentElement("afterBegin",e)}n(function(){a(e).bind("load",function(){var am=e.contentWindow;W=am[x]!==H?am[x]:"";if(W!=y()){Z(ad);Y.hash=W}});if(e.contentWindow[x]===H){D()}},50)}n(function(){d("init");Z(ad)},1);if(!O()){if((h&&q>7)||(!h&&P)){if(R.addEventListener){R.addEventListener(V,ab,ad)}else{if(R.attachEvent){R.attachEvent("on"+V,ab)}}}else{t(ab,50)}}if("state" in window.history){a(window).trigger("popstate")}}},p=function(){if(decodeURI(W)!=decodeURI(y())){W=y();Z(ad)}},o=function(){if(R.removeEventListener){R.removeEventListener(V,ab,ad)}else{if(R.detachEvent){R.detachEvent("on"+V,ab)}}},M=function(ak){ak=ak.toLowerCase();var aj=/(chrome)[ \/]([\w.]+)/.exec(ak)||/(webkit)[ \/]([\w.]+)/.exec(ak)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ak)||/(msie) ([\w.]+)/.exec(ak)||ak.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ak)||[];return{browser:aj[1]||"",version:aj[2]||"0"}},L=function(){var ak={},aj=M(navigator.userAgent);if(aj.browser){ak[aj.browser]=true;ak.version=aj.version}if(ak.chrome){ak.webkit=true}else{if(ak.webkit){ak.safari=true}}return ak},H,E=null,x="jQueryAddress",aa="string",V="hashchange",m="init",F="change",g="internalChange",ag="externalChange",B=true,ad=false,C={autoUpdate:B,history:B,strict:B,wrap:ad},A=L(),q=parseFloat(A.version),r=A.webkit||A.safari,h=!a.support.opacity,R=b(),af=R.document,ac=R.history,Y=R.location,t=setInterval,n=setTimeout,Q=/\/{2,9}/g,ai=navigator.userAgent,P="on"+V in R,e,K,i=a("script:last").attr("src"),c=i?i.indexOf("?"):-1,J=af.title,s=ad,X=ad,N=B,w=ad,z={},W=y();if(h){q=parseFloat(ai.substr(ai.indexOf("MSIE")+4));if(af.documentMode&&af.documentMode!=q){q=af.documentMode!=8?7:8}var u=af.onpropertychange;af.onpropertychange=function(){if(u){u.call(af)}if(af.title!=J&&af.title.indexOf("#"+y())!=-1){af.title=J}}}if(ac.navigationMode){ac.navigationMode="compatible"}if(document.readyState=="complete"){var f=setInterval(function(){if(a.address){S();clearInterval(f)}},50)}else{ae();a(S)}a(window).bind("popstate",p).bind("unload",o);return{bind:function(ak,al,aj){return j.apply(this,k(arguments))},unbind:function(ak,aj){return I.apply(this,k(arguments))},init:function(ak,aj){return j.apply(this,[m].concat(k(arguments)))},change:function(ak,aj){return j.apply(this,[F].concat(k(arguments)))},internalChange:function(ak,aj){return j.apply(this,[g].concat(k(arguments)))},externalChange:function(ak,aj){return j.apply(this,[ag].concat(k(arguments)))},baseURL:function(){var aj=Y.href;if(aj.indexOf("#")!=-1){aj=aj.substr(0,aj.indexOf("#"))}if(/\/$/.test(aj)){aj=aj.substr(0,aj.length-1)}return aj},autoUpdate:function(aj){if(aj!==H){C.autoUpdate=aj;return this}return C.autoUpdate},history:function(aj){if(aj!==H){C.history=aj;return this}return C.history},state:function(aj){if(aj!==H){C.state=aj;var ak=G();if(C.state!==H){if(ac.pushState){if(ak.substr(0,3)=="/#/"){Y.replace(C.state.replace(/^\/$/,"")+ak.substr(2))}}else{if(ak!="/"&&ak.replace(/^\/#/,"")!=U()){n(function(){Y.replace(C.state.replace(/^\/$/,"")+"/#"+ak)},1)}}}return this}return C.state},strict:function(aj){if(aj!==H){C.strict=aj;return this}return C.strict},tracker:function(aj){if(aj!==H){C.tracker=aj;return this}return C.tracker},wrap:function(aj){if(aj!==H){C.wrap=aj;return this}return C.wrap},update:function(){w=B;this.value(W);w=ad;return this},title:function(aj){if(aj!==H){n(function(){J=af.title=aj;if(N&&e&&e.contentWindow&&e.contentWindow.document){e.contentWindow.document.title=aj;N=ad}},50);return this}return af.title},value:function(aj){if(aj!==H){aj=ah(aj);if(aj=="/"){aj=""}if(W==aj&&!w){return}W=aj;if(C.autoUpdate||w){if(Z(B)){return this}if(O()){ac[C.history?"pushState":"replaceState"]({},"",C.state.replace(/\/$/,"")+(W===""?"/":W))}else{s=B;if(r){if(C.history){Y.hash="#"+W}else{Y.replace("#"+W)}}else{if(W!=y()){if(C.history){Y.hash="#"+W}else{Y.replace("#"+W)}}}if((h&&!P)&&C.history){n(D,50)}if(r){n(function(){s=ad},1)}else{s=ad}}}return this}return ah(W)},path:function(ak){if(ak!==H){var aj=this.queryString(),al=this.hash();this.value(ak+(aj?"?"+aj:"")+(al?"#"+al:""));return this}return ah(W).split("#")[0].split("?")[0]},pathNames:function(){var ak=this.path(),aj=ak.replace(Q,"/").split("/");if(ak.substr(0,1)=="/"||ak.length===0){aj.splice(0,1)}if(ak.substr(ak.length-1,1)=="/"){aj.splice(aj.length-1,1)}return aj},queryString:function(ak){if(ak!==H){var al=this.hash();this.value(this.path()+(ak?"?"+ak:"")+(al?"#"+al:""));return this}var aj=W.split("?");return aj.slice(1,aj.length).join("?").split("#")[0]},parameter:function(ak,at,am){var aq,ao;if(at!==H){var ar=this.parameterNames();ao=[];at=at===H||at===E?"":at.toString();for(aq=0;aq<ar.length;aq++){var an=ar[aq],au=this.parameter(an);if(typeof au==aa){au=[au]}if(an==ak){au=(at===E||at==="")?[]:(am?au.concat([at]):[at])}for(var ap=0;ap<au.length;ap++){ao.push(an+"="+au[ap])}}if(a.inArray(ak,ar)==-1&&at!==E&&at!==""){ao.push(ak+"="+at)}this.queryString(ao.join("&"));return this}at=this.queryString();if(at){var aj=[];ao=at.split("&");for(aq=0;aq<ao.length;aq++){var al=ao[aq].split("=");if(al[0]==ak){aj.push(al.slice(1).join("="))}}if(aj.length!==0){return aj.length!=1?aj:aj[0]}}},parameterNames:function(){var aj=this.queryString(),am=[];if(aj&&aj.indexOf("=")!=-1){var an=aj.split("&");for(var al=0;al<an.length;al++){var ak=an[al].split("=")[0];if(a.inArray(ak,am)==-1){am.push(ak)}}}return am},hash:function(ak){if(ak!==H){this.value(W.split("#")[0]+(ak?"#"+ak:""));return this}var aj=W.split("#");return aj.slice(1,aj.length).join("#")}}})();a.fn.address=function(b){if(!this.data("address")){this.on("click",function(f){if(f.shiftKey||f.ctrlKey||f.metaKey||f.which==2){return true}var d=f.currentTarget;if(a(d).is("a")){f.preventDefault();var c=b?b.call(d):/address:/.test(a(d).attr("rel"))?a(d).attr("rel").split("address:")[1].split(" ")[0]:a.address.state()!==undefined&&!/^\/?$/.test(a.address.state())?a(d).attr("href").replace(new RegExp("^(.*"+a.address.state()+"|\\.)"),""):a(d).attr("href").replace(/^(#\!?|\.)/,"");a.address.value(c)}}).on("submit",function(g){var f=g.currentTarget;if(a(f).is("form")){g.preventDefault();var d=a(f).attr("action"),c=b?b.call(f):(d.indexOf("?")!=-1?d.replace(/&$/,""):d+"?")+a(f).serialize();a.address.value(c)}}).data("address",true)}return this}})(jQuery);(function(){var b={};this.tmpl=function a(e,d){var c=!/\W/.test(e)?b[e]=b[e]||a(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return d?c(d):c}})();/*! main web js file */
(function(f,i,b){var c=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),d=f("html"),e=f(i.document.body),k=e.find("#canvas"),g,l;f.fn.scrollView=function(m){var o,n;o=this.offset().top||this.parent().offset().top;o=o>10?o-10:o;setTimeout(function(){f("html, body").animate({scrollTop:o},"normal",function(){if(!n){n=true;m()}})},10)};function h(o){var m,n;if(o.pathNames[0]=="modal"){n=o.pathNames[1];g=f("#"+n);e.animate({scrollTop:0},"fast",function(){k.css("overflow","hidden");g.reveal({animation:"fade",dismissModalClass:"close-reveal-modal",opened:function(){g.find("input[autofocus]").focus();if(i.PIE){g.find(".circle").css("margin-left","1px")}},close:function(){location.hash="";k.css("overflow","visible")}})})}else{if(o.pathNames[0]=="toggle"){m=o.pathNames[1];if(m){l=f("#"+m);l.scrollView(function(){l.slideToggle("normal")})}}else{if(l){l.scrollView(function(){l.slideToggle();l=false})}if(g){g.trigger("reveal:close")}}}}f.address.change(h);String.prototype.linkify=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(n){return n.link(n)})};String.prototype.tweetify=function(){return this.replace(/@[\w]+/g,function(n){return"<a href='http://www.twitter.com/"+n.replace("@","")+"'>"+n+"</a>"})};function j(o){var n=o.split(" ");o=n[1]+" "+n[2]+", "+n[5]+" "+n[3];var m=Date.parse(o);var q=(arguments.length>1)?arguments[1]:new Date();var s=parseInt((q.getTime()-m)/1000);s=s+(q.getTimezoneOffset()*60);var p="";if(s<60){p="a minute ago"}else{if(s<120){p="couple of minutes ago"}else{if(s<(45*60)){p=(parseInt(s/60)).toString()+" minutes ago"}else{if(s<(90*60)){p="an hour ago"}else{if(s<(24*60*60)){p=""+(parseInt(s/3600)).toString()+" hours ago"}else{if(s<(48*60*60)){p="1 day ago"}else{p=(parseInt(s/86400)).toString()+" days ago"}}}}}}return p}function a(m){f(m).find(".popup").click(function(t){var p=f(this).attr("href"),o=f(this).data("popup-name")||false,q=f(this).data("popup-width")||500,n=f(this).data("popup-height")||280,s=(screen.width/2)-(q/2),r=(screen.height/2)-(n/2);i.open(p,o,"height="+n+",width="+q+",top="+r+",left="+s+",resizable=no")});f(m).find(".tw-count").each(function(){var p=f(this),n=p.data("url")||location.href,o="/tweetcount.php?url="+encodeURI(n)+"&_="+(new Date()).getTime();function q(r){p.html(r)}f.getJSON(o,function(r){if(r){q(r.count)}})});f(m).find(".fb-count").each(function(){var r=f(this),q,p=(r.data("fb-count")||"share")+"_count",n=r.data("url")||location.href,o="https://api.facebook.com/method/fql.query?query=select "+p+" from link_stat where url='"+encodeURI(n)+"'&format=json&_="+(new Date()).getTime();function s(t){r.html(t)}f.getJSON(o,function(t){if(t[0]&&t[0][p]!==b){s(t[0][p])}})});f(m).find(".twitter-timeline").each(function(){var q=f(this),n=q.data("tweets-debug")||false,p=q.data("tweets-tmpl"),o=q.data("tweets-user"),s=q.data("tweets-count")||3,r=f(document.createElement("div"));if(o){f.getJSON("https://api.twitter.com/1/statuses/user_timeline/"+o+".json?count="+s+"&include_rts=1&callback=?",function(t){var u=t.length-1;f(t).each(function(v,w){if(n&&i.console){console.log(w)}w.created_since=j(w.created_at);w.html=w.text.linkify().tweetify();r.append(tmpl(p,w));if(v===u){q.html(r)}})})}});f(m).find("form.async").submit(function(s){s.preventDefault();var v=f(this),o=v.find('button[type="submit"]'),u=o.text(),p=v.serialize(),q=v.attr("action")||location.href,n=v.attr("method")||"post",t=f[n];v.removeAttr("onsubmit");(function r(){setTimeout(function(){var y=o.text(),w=y.length-u.length,x=(w===3)?u:y+".";o.html(x);r()},250)})();o.attr("disabled",true).css("width",o.outerWidth()+"px");t(q,p,function(w){v.html(w);a(v)})});f(m).find(".orbit").each(function(){var n=d.hasClass("lt-ie8");if(n){return false}var r=f(this),p=r.data("orbit-speed")||4000,q=r.data("orbit-timer")!==b,o=r.data("orbit-nav")!==b;r.orbit({advanceSpeed:p,showTimer:q,directionalNav:o})});f(m).find(".up").click(function(){f("body,html").animate({scrollTop:0},"slow")});f(m).find(".scroll").click(function(p){p.preventDefault();var o=f(this).attr("href"),n=f(o).offset().top;f("body,html").animate({scrollTop:n},"slow")});f(m).find(".toggle").click(function(){var o=f(this),n=f(o.data("toggle"));o.toggleClass("open");n.slideToggle()});f(m).find(".doki-tooltip").each(function(){var n=f(this),p=n.find("section"),w=p.find("input:first"),s=false,q=false,r=700,u;if(c||p.is(":hidden")){return p.remove()}function v(){if(u){clearTimeout(u)}if(s==false){q=false;p.removeClass("transparent");n.addClass("hover");w.focus().keyup(function(){q=!!f(this).val().length})}s=true}function o(){s=false;p.addClass("transparent");u=setTimeout(function(){n.removeClass("hover");p.removeClass("transparent")},r)}function t(){if(q){return}u=setTimeout(o,1000)}n.hover(v,t).find("a:first").click(function(x){x.preventDefault()})})}(function(s){var m=s("nav"),q=m.find("li.magic"),p=m.find("li.current a");if(p.length){q.width(p.width()).css("left",p.position().left).data("origLeft",q.position().left).data("origWidth",q.width())}else{q.width("0px").data("origLeft",0).data("origWidth",0)}var o,n,r;m.find("li").find("a").hover(function(){o=s(this);n=o.position().left;r=o.parent().width();q.stop().animate({left:n,width:r})},function(){q.stop().animate({left:q.data("origLeft"),width:q.data("origWidth")})})})(i.$);if(c&&!i.location.hash){f(i).load(function(){setTimeout(function(){i.scrollTo(0,1)},0)})}if(i.PIE){f(".block-grid.two-up>li:nth-child(2n+1)").css({clear:"both"});f(".block-grid.three-up>li:nth-child(3n+1)").css({clear:"both"});f(".block-grid.four-up>li:nth-child(4n+1)").css({clear:"both"});f(".block-grid.five-up>li:nth-child(5n+1)").css({clear:"both"})}a(e)})($,window);